{"version":3,"file":"getPublishToken.js","sourceRoot":"","sources":["../src/getPublishToken.ts"],"names":[],"mappings":";;;;;;AAAA,gEAA+B;AAExB,MAAM,eAAe,GAAG,CAAC,KAAa,EAAE,GAAe,EAAE,UAA2B,EAAE,EAAE,EAAE;IAC/F,MAAM,OAAO,GAAG;QACd,OAAO,EAAE,EAAE,OAAO,EAAE,CAAC,KAAK,CAAC,EAAE;KAC9B,CAAC;IACF,MAAM,UAAU,mBACd,SAAS,EAAE,EAAE,EACb,WAAW,EAAE,IAAI,IACd,OAAO,CACX,CAAC;IAEF,OAAO,sBAAG,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;AAC5C,CAAC,CAAA;AAXY,QAAA,eAAe,mBAW3B","sourcesContent":["import jwt from 'jsonwebtoken';\n\nexport const getPublishToken = (topic: string, key: jwt.Secret, options: jwt.SignOptions = {}) => {\n  const payload = {\n    mercure: { publish: [topic] },\n  };\n  const jwtOptions: jwt.SignOptions = {\n    expiresIn: 60,\n    noTimestamp: true,\n    ...options,\n  };\n\n  return jwt.sign(payload, key, jwtOptions);\n}\n"]}