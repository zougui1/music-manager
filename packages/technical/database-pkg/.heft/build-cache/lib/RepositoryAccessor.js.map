{"version":3,"file":"RepositoryAccessor.js","sourceRoot":"","sources":["../src/RepositoryAccessor.ts"],"names":[],"mappings":";;;AAEA,uCAA4D;AAE5D,MAAsB,kBAAkB;IAQtC,YAAmB,IAAmB;QACpC,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;IAChC,CAAC;IAND,IAAc,IAAI;;QAChB,aAAO,IAAI,CAAC,KAAK,oCAAV,IAAI,CAAC,KAAK,GAAK,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAC;IAC7D,CAAC;IAMS,OAAO,CAA2C,IAAuB;QACjF,OAAO,6BAAmB,CAAC,IAAI,CAAC,CAAC;IACnC,CAAC;CACF;AAfD,gDAeC","sourcesContent":["import { BaseEntity } from './entities';\nimport { BaseRepository } from './repositories';\nimport { getCustomRepository, ObjectType } from './typeorm';\n\nexport abstract class RepositoryAccessor<T extends BaseRepository<BaseEntity>> {\n\n  private _objectRepository: ObjectType<T>;\n  private _repo: T | undefined;\n  protected get repo(): T {\n    return this._repo ??= this.getRepo(this._objectRepository);\n  }\n\n  public constructor(repo: ObjectType<T>) {\n    this._objectRepository = repo;\n  }\n\n  protected getRepo<TRepo extends BaseRepository<BaseEntity>>(repo: ObjectType<TRepo>): TRepo {\n    return getCustomRepository(repo);\n  }\n}\n"]}