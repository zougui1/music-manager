{"version":3,"file":"populate.js","sourceRoot":"","sources":["../../src/scripts/populate.ts"],"names":[],"mappings":";;;AAAA,oBAAkB;AAClB,+CAAgD;AAChD,yCAAkC;AAClC,+CAAwC;AAEjC,KAAK,UAAU,IAAI,CAAC,IAAS;IAClC,MAAM,UAAU,GAAG,MAAM,+BAAgB,EAAE,CAAC;IAE5C,IAAI;QACF,MAAM,aAAa,EAAE,CAAC;QACtB,MAAM,gBAAgB,EAAE,CAAC;KAC1B;IAAC,OAAO,KAAK,EAAE;QACd,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;KACtB;YAAS;QACR,MAAM,UAAU,CAAC,KAAK,EAAE,CAAC;KAC1B;AACH,CAAC;AAXD,oBAWC;AAED,MAAM,aAAa,GAAG,KAAK,IAAmB,EAAE;IAC9C,MAAM,KAAK,GAAG,IAAI,iBAAK,EAAE,CAAC;IAC1B,MAAM,QAAQ,GAAG,IAAI,uBAAQ,EAAE,CAAC;IAEhC,MAAM,KAAK,CAAC,KAAK,EAAE,CAAC;IACpB,MAAM,QAAQ,CAAC,KAAK,EAAE,CAAC;AACzB,CAAC,CAAA;AAED,MAAM,gBAAgB,GAAG,KAAK,IAAmB,EAAE;IACjD,MAAM,KAAK,GAAG,IAAI,iBAAK,EAAE,CAAC;IAE1B,MAAM,OAAO,CAAC,GAAG,CAAC;QAChB,KAAK,CAAC,MAAM,CAAC;YACX,KAAK,EAAE,OAAO;YACd,QAAQ,EAAE,KAAK;YACf,OAAO,EAAE,CAAC,WAAW,CAAC;YACtB,WAAW,EAAE,EAAE;YACf,QAAQ,EAAE,EAAE;YACZ,IAAI,EAAE,gBAAgB;YACtB,MAAM,EAAE,EAAE;YACV,IAAI,EAAE,EAAE;YACR,SAAS,EAAE,gBAAgB;YAC3B,KAAK,EAAE,OAAO;SACf,CAAC;KACH,CAAC,CAAC;AACL,CAAC,CAAA","sourcesContent":["import '../setup';\nimport { createConnection } from 'database-pkg';\nimport { Music } from 'music-pkg';\nimport { Playlist } from 'playlist-pkg';\n\nexport async function main(args: any): Promise<void> {\n  const connection = await createConnection();\n\n  try {\n    await clearDatabase();\n    await populateDatabase();\n  } catch (error) {\n    console.error(error);\n  } finally {\n    await connection.close();\n  }\n}\n\nconst clearDatabase = async (): Promise<void> => {\n  const music = new Music();\n  const playlist = new Playlist();\n\n  await music.clear();\n  await playlist.clear();\n}\n\nconst populateDatabase = async (): Promise<void> => {\n  const music = new Music();\n\n  await Promise.all([\n    music.create({\n      album: 'album',\n      approved: false,\n      artists: ['dArtagnan'],\n      correctness: 45,\n      duration: 45,\n      link: 'http://some.fo',\n      source: {},\n      tags: [],\n      thumbnail: 'http://some.fo',\n      title: 'Title',\n    }),\n  ]);\n}\n"]}