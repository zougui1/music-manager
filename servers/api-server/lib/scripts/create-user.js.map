{"version":3,"file":"create-user.js","sourceRoot":"","sources":["../../src/scripts/create-user.ts"],"names":[],"mappings":";;;AAAA,oBAAkB;AAClB,+CAAgD;AAChD,uCAAgC;AAEzB,KAAK,UAAU,IAAI,CAAC,IAAS;IAClC,MAAM,UAAU,GAAG,MAAM,+BAAgB,EAAE,CAAC;IAE5C,IAAI;QACF,MAAM,UAAU,EAAE,CAAC;QACnB,MAAM,aAAa,EAAE,CAAC;KACvB;IAAC,OAAO,KAAK,EAAE;QACd,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;KACtB;YAAS;QACR,MAAM,UAAU,CAAC,KAAK,EAAE,CAAC;KAC1B;AACH,CAAC;AAXD,oBAWC;AAED,MAAM,UAAU,GAAG,KAAK,IAAmB,EAAE;IAC3C,MAAM,IAAI,GAAG,IAAI,eAAI,EAAE,CAAC;IAExB,MAAM,IAAI,CAAC,KAAK,EAAE,CAAC;AACrB,CAAC,CAAA;AAED,MAAM,aAAa,GAAG,KAAK,IAAmB,EAAE;IAC9C,MAAM,IAAI,GAAG,IAAI,eAAI,EAAE,CAAC;IAExB,MAAM,OAAO,CAAC,GAAG,CAAC;QAChB,IAAI,CAAC,MAAM,CAAC;YACV,KAAK,EAAE,kBAAkB;YACzB,IAAI,EAAE,QAAQ;YACd,QAAQ,EAAE,YAAY;SACvB,CAAC;QACF,IAAI,CAAC,MAAM,CAAC;YACV,KAAK,EAAE,aAAa;YACpB,IAAI,EAAE,KAAK;YACX,QAAQ,EAAE,UAAU;SACrB,CAAC;KACH,CAAC,CAAC;AACL,CAAC,CAAA","sourcesContent":["import '../setup';\nimport { createConnection } from 'database-pkg';\nimport { User } from 'user-pkg';\n\nexport async function main(args: any): Promise<void> {\n  const connection = await createConnection();\n\n  try {\n    await clearUsers();\n    await populateUsers();\n  } catch (error) {\n    console.error(error);\n  } finally {\n    await connection.close();\n  }\n}\n\nconst clearUsers = async (): Promise<void> => {\n  const user = new User();\n\n  await user.clear();\n}\n\nconst populateUsers = async (): Promise<void> => {\n  const user = new User();\n\n  await Promise.all([\n    user.signup({\n      email: 'zougui@gmail.com',\n      name: 'Zougui',\n      password: 'nopassword',\n    }),\n    user.signup({\n      email: 'duh@duh.duh',\n      name: 'Duh',\n      password: 'John Duh',\n    }),\n  ]);\n}\n"]}