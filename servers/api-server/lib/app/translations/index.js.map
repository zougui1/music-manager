{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../src/app/translations/index.ts"],"names":[],"mappings":";;;;;;AAAA,gDAA2B;AAE3B,8CAAsB;AACtB,qCAAuD;AAGvD,MAAM,eAAe,GAAG,IAAI,CAAC;AAC7B,MAAM,YAAY,GAA+B;IAC/C,EAAE,EAAE,cAAO,CAAC,YAAE,CAAC;CAChB,CAAC;AAEK,MAAM,UAAU,GAAG,CAAC,QAA4B,EAAE,GAAW,EAAE,SAAwB,EAAE,EAAU,EAAE;IAC1G,MAAM,WAAW,GAAG,YAAY,CAAC,QAAQ,aAAR,QAAQ,cAAR,QAAQ,GAAI,eAAe,CAAC,IAAI,YAAY,CAAC,eAAe,CAAC,CAAC;IAE/F,IAAI,CAAC,CAAC,GAAG,IAAI,WAAW,CAAC,EAAE;QACzB,MAAM,IAAI,oCAA2B,CAAC,IAAI,EAAE,EAAE,cAAc,EAAE,GAAG,EAAE,CAAC,CAAC;KACtE;IAED,IAAI,OAAO,GAAG,WAAW,CAAC,GAAG,CAAC,CAAC;IAE/B,KAAK,MAAM,CAAC,IAAI,EAAE,KAAK,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;QAClD,MAAM,KAAK,GAAG,IAAI,MAAM,CAAC,MAAM,IAAI,KAAK,EAAE,GAAG,CAAC,CAAC;QAC/C,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;KACzC;IAED,OAAO,OAAO,CAAC;AACjB,CAAC,CAAA;AAfY,QAAA,UAAU,cAetB","sourcesContent":["import flatten from 'flat';\n\nimport en from './en';\nimport { NonexistentTranslationError } from './errors';\nimport { ObjectLiteral, ObjectOf } from 'types-pkg';\n\nconst defaultLanguage = 'en';\nconst translations: ObjectOf<ObjectOf<string>> = {\n  en: flatten(en),\n};\n\nexport const getMessage = (language: string | undefined, key: string, values: ObjectLiteral = {}): string => {\n  const translation = translations[language ?? defaultLanguage] || translations[defaultLanguage];\n\n  if (!(key in translation)) {\n    throw new NonexistentTranslationError(null, { translationKey: key });\n  }\n\n  let message = translation[key];\n\n  for (const [name, value] of Object.entries(values)) {\n    const regex = new RegExp(`\\\\{${name}\\\\}`, 'g');\n    message = message.replace(regex, value);\n  }\n\n  return message;\n}\n"]}